<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head')%>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/dataTables.material.min.css">
    <title>Leaderboard</title>
    <style>
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 4px 10px;
        }
        .dataTables_wrapper .dataTables_paginate {
            padding-top: 10px;
        }
        table.dataTable {
            border-collapse: collapse;
        }
        .dataTables_wrapper .dataTables_length {
            padding-bottom: 10px;
            padding-top: 6px;
        }
        div.dataTables_wrapper div.dataTables_filter {
            padding-bottom: 10px;
        }
        table.dataTable thead .sorting:before, table.dataTable thead .sorting_asc:before, table.dataTable thead .sorting_desc:before, table.dataTable thead .sorting_asc_disabled:before, table.dataTable thead .sorting_desc_disabled:before {
            right: 1em;
            content: "↑";
            display: none;
        }
        table.dataTable thead .sorting:after, table.dataTable thead .sorting_asc:after, table.dataTable thead .sorting_desc:after, table.dataTable thead .sorting_asc_disabled:after, table.dataTable thead .sorting_desc_disabled:after {
            right: .5em;
            content: "↓";
            display: none;
        }
        .dataTables_wrapper .dataTables_paginate .paginate_button.current, .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
            background-color: transparent !important;
            background: transparent !important;
        }
    </style>
</head>
<body>
    <%- include('partials/navbar')%>
    <div class="con container-fluid">
        <%- include('partials/flash')%>
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 table-responsive">
            <h1 class="text-center pb-4 mb-4" style="color: rgb(35, 3, 133);"><i class="fa-solid fa-trophy"></i>&nbsp;Leaderboard&nbsp;<i class="fa-solid fa-trophy"></i></h1>
            <table class="table table-bordered table-striped align-middle text-center hover" id="leaderboard">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Username</th>
                    <th scope="col">Level</th>
                    <th scope="col">Score</th>
                  </tr>
                </thead>
                <tbody>
                <% let count = 1; %>
                <% for(let user of users){ %>
                  <tr>
                    <th scope="row"><%= count %></th>
                    <td><a href=/user/<%= user.username %>><%= user.username %></a></td>
                    <td><%= user.level %></td>
                    <td><%= user.score %></td>
                  </tr>
                  <% count++; %>
                <% } %>
                </tbody>
              </table>
        </div>           
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
        integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
        integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
        crossorigin="anonymous"></script>
    <!-- data tables -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#leaderboard').DataTable( {
                autoWidth: false,
                columnDefs: [
                    {
                        targets: ['_all'],
                        className: 'mdc-data-table__cell'
                    }
                ],
                info:false
            } );
        } );
    </script>
</body>
</html>